{"title":"BUU-BURP-X-Real-IP","uid":"eefdee94a2ec4b5d372ab4adce8d3bac","slug":"BUU-BURP-X-Real-IP","date":"2022-03-18T08:10:44.000Z","updated":"2022-03-20T11:48:28.751Z","comments":true,"path":"api/articles/BUU-BURP-X-Real-IP.json","keywords":null,"cover":[],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>BUU一道BURP的题目，并记录一下X-Forwarded-For和X-Real-IP的区别。</p>\n<h2 id=\"0x00-启动靶场\"><a href=\"#0x00-启动靶场\" class=\"headerlink\" title=\"0x00 启动靶场\"></a>0x00 启动靶场</h2><p>看到只能本地访问，一般看到这句话的时候肯定首先想到的是X-Forwarded-For，但是数据包中加了X-Forwarded-For也没什么作用，翻了几篇帖子看到需要用到X-Real-IP。</p>\n<p><img src=\"/post/BUU-BURP-X-Real-IP.htm/image-20220318161302112.png\" alt=\"image-20220318161302112\"></p>\n<h2 id=\"0x01\"><a href=\"#0x01\" class=\"headerlink\" title=\"0x01\"></a>0x01</h2><p>在数据包中加入<code>X-Real-IP：127.0.0.1</code>，看到有登录页面：<br><img src=\"/post/BUU-BURP-X-Real-IP.htm/image-20220318161558537.png\" alt=\"image-20220318161558537\"></p>\n<h2 id=\"0x02\"><a href=\"#0x02\" class=\"headerlink\" title=\"0x02\"></a>0x02</h2><p>接着点击登录即可获得flag：<br><img src=\"/post/BUU-BURP-X-Real-IP.htm/image-20220318161738452.png\" alt=\"image-20220318161738452\"></p>\n<p><img src=\"/post/BUU-BURP-X-Real-IP.htm/image-20220318161801491.png\" alt=\"image-20220318161801491\"></p>\n<h2 id=\"0x03-两者区别\"><a href=\"#0x03-两者区别\" class=\"headerlink\" title=\"0x03 两者区别\"></a>0x03 两者区别</h2><p>1、X-Forwarded-For：用于记录代理信息的，每经过一级代理(匿名代理除外)，代理服务器都会把这次请求的来源IP追加在X-Forwarded-For中</p>\n<p>2、X-Real-IP：一般只记录真实发出请求的客户端IP</p>\n<h2 id=\"0x04-总结\"><a href=\"#0x04-总结\" class=\"headerlink\" title=\"0x04 总结\"></a>0x04 总结</h2><p>了解<code>X-Forwarded-For</code>和<code>X-Real-IP</code>的区别；并且在本题中加入<code>X-Forwarded-For</code>同样也会把请求来源的IP追加在后面，导致请求的时候并不是使用<code>127.0.0.1</code>进行访问，这也是为什么<code>X-Forwarded-For</code>不能成功的原因，而使用<code>X-Real-IP</code>时，后台在检测的时候便是真实的127.0.0.1在访问。</p>\n","text":"前言BUU一道BURP的题目，并记录一下X-Forwarded-For和X-Real-IP的区别。 0x00 启动靶场看到只能本地访问，一般看到这句话的时候肯定首先想到的是X-Forwarded-For，但是数据包中加了X-Forwarded-For也没什么作用，翻了几篇帖子看到...","link":"","photos":[],"count_time":{"symbolsCount":512,"symbolsTime":"1 mins."},"categories":[{"name":"CTF","slug":"CTF","count":10,"path":"api/categories/CTF.json"}],"tags":[{"name":"CTF","slug":"CTF","count":19,"path":"api/tags/CTF.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x00-%E5%90%AF%E5%8A%A8%E9%9D%B6%E5%9C%BA\"><span class=\"toc-text\">0x00 启动靶场</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x01\"><span class=\"toc-text\">0x01</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x02\"><span class=\"toc-text\">0x02</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x03-%E4%B8%A4%E8%80%85%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">0x03 两者区别</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0x04-%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">0x04 总结</span></a></li></ol>","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"BUU-UPLOAD联合RCE","uid":"c1f68926e47c7ff28424379bdd26999e","slug":"BUU-UPLOAD联合RCE","date":"2022-03-18T09:32:48.000Z","updated":"2022-03-20T11:49:23.232Z","comments":true,"path":"api/articles/BUU-UPLOAD联合RCE.json","keywords":null,"cover":[],"text":"前言BUU一道文件上传联合RCE的一道题。 0x00 启动靶场启动靶场提示上传文件，随便上传一个1.php文件，写入一句话，发现并没有做限制，可以任意文件上传，但上传之后会将文件名和后缀名修改为xxx.jpg的格式。 看到回显的路径。 试着访问，是空白页面，不知道是否能被执行。 ...","link":"","photos":[],"count_time":{"symbolsCount":802,"symbolsTime":"1 mins."},"categories":[{"name":"CTF","slug":"CTF","count":10,"path":"api/categories/CTF.json"}],"tags":[{"name":"CTF","slug":"CTF","count":19,"path":"api/tags/CTF.json"},{"name":"RCE","slug":"RCE","count":4,"path":"api/tags/RCE.json"},{"name":"文件上传","slug":"文件上传","count":7,"path":"api/tags/文件上传.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"BUU-SQL注入-寻找注入点","uid":"61025c4bc325a8f722ff6e7c3ae2291b","slug":"BUU-SQL注入-寻找注入点","date":"2022-03-18T02:49:56.000Z","updated":"2022-03-20T11:49:02.076Z","comments":true,"path":"api/articles/BUU-SQL注入-寻找注入点.json","keywords":null,"cover":[],"text":"前言记录一下BUU的一道SQL注入，这道题难点主要在于寻找注入点。 0x00 启动靶场启动靶场后发现只有两个页面，一个是热点页面，一个是登录页面，开始以为登录页面存在注入，测试了很多，万能密码，甚至抓包修改Referer值探测注入点也都没有结果。 0x01 信息搜集登录页面无果后...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"SQL注入","slug":"SQL注入","count":20,"path":"api/categories/SQL注入.json"}],"tags":[{"name":"CTF","slug":"CTF","count":19,"path":"api/tags/CTF.json"},{"name":"SQL注入","slug":"SQL注入","count":21,"path":"api/tags/SQL注入.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}