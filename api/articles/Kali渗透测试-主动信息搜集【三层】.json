{"title":"Kali渗透测试-主动信息搜集【三层】","uid":"fdfdea21437da4c26453fa91e3c5de6d","slug":"Kali渗透测试-主动信息搜集【三层】","date":"2022-12-11T01:51:11.000Z","updated":"2022-12-17T15:30:25.831Z","comments":true,"path":"api/articles/Kali渗透测试-主动信息搜集【三层】.json","keywords":null,"cover":[],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"主动信息搜集—三层发现\"><a href=\"#主动信息搜集—三层发现\" class=\"headerlink\" title=\"主动信息搜集—三层发现\"></a>主动信息搜集—三层发现</h2><ul>\n<li>优点<ul>\n<li>可路由</li>\n<li>速度比较快</li>\n</ul>\n</li>\n<li>缺点<ul>\n<li>速度比二层慢</li>\n<li>经常被边界防火墙过滤</li>\n</ul>\n</li>\n<li>IP、icmp协议</li>\n</ul>\n<h2 id=\"Ping\"><a href=\"#Ping\" class=\"headerlink\" title=\"Ping\"></a>Ping</h2><ul>\n<li><p>ping 192.168.216.2 -c 5</p>\n<ul>\n<li><p>-c 指定发送5个包</p>\n</li>\n<li><p><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211100329274.png\" alt=\"image-20221211100329274\"></p>\n</li>\n</ul>\n</li>\n<li><p>ping -R 1.1.1.1      # -R 记录经过的路由</p>\n<ul>\n<li>-R参数记录的是离发送端远的端口地址（路由器右端口）</li>\n</ul>\n</li>\n<li><p>traceroute 1.1.1.1</p>\n<ul>\n<li>记录的是离发送端近的端口地址（路由器左端口）</li>\n</ul>\n</li>\n<li><p>ping 192.168.216.2 -c 1 | grep “bytes from” | cut -d “ “ -f 4 |cut -d “:” -f 1</p>\n<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211102243101.png\" alt=\"image-20221211102243101\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Scapy\"><a href=\"#Scapy\" class=\"headerlink\" title=\"Scapy\"></a>Scapy</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>使用scapy进行三层探测</p></blockquote>\n<ul>\n<li>将IP()赋值给i，将ICMP()赋值给p，再将<code>i</code>和<code>p</code>变量使用<code>/</code>组合起来赋值给ping：<code>ping=(i/p)</code><ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211111208126.png\" alt=\"image-20221211111208126\"></li>\n<li>查看包头结构<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211111305731.png\" alt=\"image-20221211111305731\"></li>\n</ul>\n</li>\n<li>设置IP包头中的<code>dst</code>字段<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211111429874.png\" alt=\"image-20221211111429874\"></li>\n</ul>\n</li>\n<li>发包<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211111550957.png\" alt=\"image-20221211111550957\"></li>\n</ul>\n</li>\n<li>使用一行发包<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211111802157.png\" alt=\"image-20221211111802157\"></li>\n</ul>\n</li>\n<li>当主机不存活时加入<code>timeout</code>字段，防止scapy扫描中断<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211112219627.png\" alt=\"image-20221211112219627\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Nmap—三层发现\"><a href=\"#Nmap—三层发现\" class=\"headerlink\" title=\"Nmap—三层发现\"></a>Nmap—三层发现</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>nmap 192.168.182.0 -sn  </p>\n<p>扫描三层网段还可以使用<code>-sn</code>参数，当宿主机处于同网段时会进行ARP的扫描，当宿主机处于不同网段时会进行ICMP的扫描</p></blockquote>\n<ul>\n<li>nmap 211.144.145.1 -sn   # 不同网段<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211113642967.png\" alt=\"image-20221211113642967\"></li>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211113707886.png\" alt=\"image-20221211113707886\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"fping\"><a href=\"#fping\" class=\"headerlink\" title=\"fping\"></a>fping</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>比 ping 功能强大一些，会给出响应时间，字段大小，丢包率等，支持地址段的 ping</p></blockquote>\n<ul>\n<li><p>fping 192.168.216.2 -c 10</p>\n<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211114140190.png\" alt=\"image-20221211114140190\"></li>\n</ul>\n</li>\n<li><p>fping -g 192.168.216.100 192.168.216.200 -c 1  # 指定起始和结束的IP地址</p>\n<ul>\n<li><code>-g</code> 进行地址段的扫描，从<code>.100-.200</code>的扫描，每个地址发送一个包<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211114511961.png\" alt=\"image-20221211114511961\"></li>\n<li>loss 100%非存活主机，loss 0%存活主机</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>fping  -g 192.168.216.0&#x2F;24 | grep alive  # 添加子网掩码进行网段扫描</p>\n<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211115259699.png\" alt=\"image-20221211115259699\"></li>\n</ul>\n</li>\n<li><p>fping -f iplist.txt</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ul>\n<li>支持地址列表的方式</li>\n</ul></blockquote>\n</li>\n</ul>\n<h2 id=\"Hping\"><a href=\"#Hping\" class=\"headerlink\" title=\"Hping\"></a>Hping</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>能够发送几乎任意TCP&#x2F;IP包</p>\n<p>功能强大但每次只能扫描一个目标</p></blockquote>\n<ul>\n<li>hping3 192.168.216.2 –icmp -c 2<ul>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211115751348.png\" alt=\"image-20221211115751348\"></li>\n<li>通过循环实现网段扫描<ul>\n<li>for addr in $(seq 1 254); do hping3 192.168.216.$addr –icmp -c 1 &gt;&gt; handle.txt &amp; done</li>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211120106849.png\" alt=\"image-20221211120106849\"></li>\n<li>查看handle.txt并用<code>^</code>索引符，从开头进行索引<code>len</code>字段，筛选出活着的主机</li>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211120416425.png\" alt=\"image-20221211120416425\"></li>\n<li><img src=\"/post/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E3%80%90%E4%B8%89%E5%B1%82%E3%80%91.htm/image-20221211120158246.png\" alt=\"image-20221211120158246\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","text":"主动信息搜集—三层发现 优点 可路由 速度比较快 缺点 速度比二层慢 经常被边界防火墙过滤 IP、icmp协议 Ping ping 192.168.216.2 -c 5 -c 指定发送5个包 ping -R 1.1.1.1 # -R 记录经过的路由 -R参数记录的是离发送端远的端...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"信息搜集","slug":"信息搜集","count":10,"path":"api/categories/信息搜集.json"}],"tags":[{"name":"信息搜集","slug":"信息搜集","count":11,"path":"api/tags/信息搜集.json"},{"name":"Kali","slug":"Kali","count":27,"path":"api/tags/Kali.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E2%80%94%E4%B8%89%E5%B1%82%E5%8F%91%E7%8E%B0\"><span class=\"toc-text\">主动信息搜集—三层发现</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Ping\"><span class=\"toc-text\">Ping</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Scapy\"><span class=\"toc-text\">Scapy</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Nmap%E2%80%94%E4%B8%89%E5%B1%82%E5%8F%91%E7%8E%B0\"><span class=\"toc-text\">Nmap—三层发现</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#fping\"><span class=\"toc-text\">fping</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Hping\"><span class=\"toc-text\">Hping</span></a></li></ol>","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Kali渗透测试-主动信息搜集【四层】","uid":"562470368a0e4b772e0a77daba1b3bbe","slug":"Kali渗透测试-主动信息搜集【四层】","date":"2022-12-11T09:11:26.000Z","updated":"2022-12-17T15:29:01.299Z","comments":true,"path":"api/articles/Kali渗透测试-主动信息搜集【四层】.json","keywords":null,"cover":[],"text":"主动信息搜集—四层发现 优点 可路由且结果可靠 不太可能被防火墙过滤 甚至可以发现所有端口都被过滤的主机 缺点 基于状态过滤的防火墙可能过滤扫描 全端口扫描速度慢 TCP 未经请求的ACK—RST 未建立连接，未请求资源直接发送ACK数据包，目标系统会直接给发ACK的来源IP返回...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"信息搜集","slug":"信息搜集","count":10,"path":"api/categories/信息搜集.json"}],"tags":[{"name":"信息搜集","slug":"信息搜集","count":11,"path":"api/tags/信息搜集.json"},{"name":"Kali","slug":"Kali","count":27,"path":"api/tags/Kali.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Kali渗透测试-主动信息搜集【二层】","uid":"569a0f2ea0be37f93bd60ef29cd8c870","slug":"Kali渗透测试-主动信息搜集【二层】","date":"2022-12-10T01:36:56.000Z","updated":"2023-01-28T16:44:39.801Z","comments":true,"path":"api/articles/Kali渗透测试-主动信息搜集【二层】.json","keywords":null,"cover":[],"text":"主动信息搜集 被动信息搜集可能搜集到的信息不是最新的信息，而是历史信息，由此，需要使用主动信息搜集对被动信息搜集得到的结果进行确认和验证，并且通过主动的手段发现更新，更准确，更完善的信息，以致于对后续渗透更有帮助。 直接与目标系统交互通信 无法避免留下访问的痕迹 使用受控的第三方...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"信息搜集","slug":"信息搜集","count":10,"path":"api/categories/信息搜集.json"}],"tags":[{"name":"信息搜集","slug":"信息搜集","count":11,"path":"api/tags/信息搜集.json"},{"name":"Kali","slug":"Kali","count":27,"path":"api/tags/Kali.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}